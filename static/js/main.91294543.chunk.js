(this["webpackJsonpmeme-store"]=this["webpackJsonpmeme-store"]||[]).push([[0],{107:function(e,t,n){e.exports={card_wrapper:"MemeCardCreate_card_wrapper__2DGmZ"}},108:function(e,t,n){e.exports={spinner_container:"LoadingSpinner_spinner_container__xCjOz"}},109:function(e,t,n){e.exports={card_wrapper:"MemeCardItem_card_wrapper__38JaG",image:"MemeCardItem_image__2mBK5"}},127:function(e,t,n){e.exports={title:"Login_title__3XZU6"}},143:function(e,t,n){},149:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(31),r=n.n(i),s=(n(143),n(24)),o=n(45),l=n(21),j=(n(149),n(13)),d=n(135),u=n(6),m=["component","isLogin"],b=function(e){var t=e.component,n=e.isLogin,a=Object(d.a)(e,m);return n?Object(u.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return Object(u.jsx)(t,Object(j.a)({},e))}})):Object(u.jsx)(l.a,{to:"/"})},O=n(57),p=n(39),x=n(35),h=n(232),f=n(234),v=n(131),_=n(237),g=n(238),y=function(e){var t=e.onFinish,n=e.onFinishFailed,a=e.handleChangeForm,i=e.valueEmail,r=e.valuePassword,s=e.initialValues,o=h.a.useForm(),l=Object(x.a)(o,1)[0];return c.a.useEffect((function(){l.setFieldsValue({username:i,password:r})}),[l,i,r]),Object(u.jsx)("div",{children:Object(u.jsxs)(h.a,Object(j.a)(Object(j.a)({},{labelCol:{span:12},wrapperCol:{span:16}}),{},{onFinish:t,onFinishFailed:n,form:l,onFieldsChange:function(e){return a(e[0])},initialValues:s,children:[Object(u.jsx)(h.a.Item,{name:"username",label:"Nombre de usuario",rules:[{required:!0,message:"Porfavor, ingresa tu e-mail"}],children:Object(u.jsx)(f.a,{type:"text",prefix:Object(u.jsx)(_.a,{className:"site-form-item-icon"})})}),Object(u.jsx)(h.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0}],children:Object(u.jsx)(f.a.Password,{prefix:Object(u.jsx)(g.a,{className:"site-form-item-icon"})})}),Object(u.jsx)(h.a.Item,{wrapperCol:{offset:8,span:16},children:Object(u.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}))})},C=n(72),E=function(e){var t=Object(a.useState)(e),n=Object(x.a)(t,2),c=n[0],i=n[1];return{formValues:c,setFormValues:i,handleChange:function(e){i(Object(j.a)(Object(j.a)({},c),{},Object(C.a)({},e.name,e.value)))}}},M="LOGIN_USER",w="".concat(M,"_INIT"),L="".concat(M,"_SUCCESS"),S="".concat(M,"_ERROR"),T=function(e,t){var n=e.username,a=e.password;return function(e){e({type:w});var c=function(t){e({type:S,payload:t})};try{fetch("https://api-mock-login.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:a})}).then((function(e){return e.json()})).then((function(a){a.jwt?(localStorage.jwt=a.jwt,e({type:L,payload:n}),t()):c(a.error)}))}catch(i){c(i)}}},F=n(127),N=n.n(F),I=function(){var e=Object(s.b)(),t=Object(l.g)(),n=E({username:"",password:""}),a=n.formValues,c=n.handleChange,i=function(){return t.push("/meme/create")};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:N.a.title,children:"Login"}),Object(u.jsx)(O.a,{type:"flex",justify:"center",align:"middle",children:Object(u.jsx)(p.a,{span:8,children:Object(u.jsx)(y,{onFinish:function(){e(T(a,i))},handleChangeForm:c,valueEmail:null===a||void 0===a?void 0:a.username,valuePassword:null===a||void 0===a?void 0:a.password})})})]})},k=function(e){var t=e.memes;return null===t||void 0===t?void 0:t.data},R=n(65),U=n.n(R),V=n(106),A="FETCH_MEMES_START",P="FETCH_MEMES_SUCCES",D="FETCH_MEMES_FAILURE",z="DELETE_MEME_START",B="DELETE_MEME_SUCCESS",q="DELETE_MEME_FAILURE",H="CREATE_MEME_START",J="CREATE_MEME_SUCCESS",G="CREATE_MEME_FAILURE",Z=function(){return function(){var e=Object(V.a)(U.a.mark((function e(t,n){var a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:A}),e.prev=1,e.next=4,fetch("https://api.imgflip.com/get_memes");case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,t((i=c.data.memes,{type:P,payload:i})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t((n=e.t0.message,{type:D,payload:n}));case 14:case"end":return e.stop()}var n,i}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},K=n(96),W=n.n(K),X=n(233),$=n(239),Q=n(107),Y=n.n(Q),ee=X.a.Meta,te=function(e){var t=e.alt,n=e.description,a=e.src,c=e.title,i=e.onClickCreate;e.onClickDelete;return Object(u.jsx)(p.a,{sm:24,md:8,xl:6,className:Y.a.card_wrapper,children:Object(u.jsx)(X.a,{style:{width:300},cover:Object(u.jsx)("img",{alt:t,src:a,className:Y.a.image}),actions:[Object(u.jsx)($.a,{onClick:i},"create")],children:Object(u.jsx)(ee,{title:c,description:n})})})},ne=function(e){var t=e.handleChangeForm,n=e.initialValues,c=e.valueText0,i=e.valueText1,r=h.a.useForm(),s=Object(x.a)(r,1)[0];return Object(a.useEffect)((function(){s.setFieldsValue({text0:c,text1:i})}),[s,c,i]),Object(u.jsxs)(h.a,{form:s,onFieldsChange:function(e){return t(e[0])},initialValues:n,children:[Object(u.jsx)(h.a.Item,{name:"text0",label:"Texto 1",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(u.jsx)(f.a,{})}),Object(u.jsx)(h.a.Item,{name:"text1",label:"Texto 2",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(u.jsx)(f.a,{})})]})},ae=n(231),ce=n(108),ie=n.n(ce),re=function(){return Object(u.jsx)("div",{className:ie.a.spinner_container,children:Object(u.jsx)(ae.a,{className:ie.a.spinner,tip:"Loading..."})})},se=function(){var e=Object(s.c)(k),t=Object(s.c)((function(e){return e.memes})).isLoading,n=Object(s.b)(),c=E({text0:"",text1:""}),i=c.formValues,r=c.handleChange,o=c.setFormValues,j=Object(a.useState)(10),d=Object(x.a)(j,2),m=d[0],b=d[1],h=Object(l.g)();Object(a.useEffect)((function(){"iddle"===t&&n(Z())}),[t,n]);var f=function(){return h.push("/my-list")},_=function(e){""!==i.text0&&""!==i.text1&&(n(function(e,t){return function(){var n=Object(V.a)(U.a.mark((function n(a){var c,i,r,s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:H}),n.prev=1,e.password="E$XNPeA!u8Cd$cw",e.username="BrbaraCceres",c=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"),n.next=7,fetch("https://api.imgflip.com/caption_image",{method:"POST",body:c,headers:{"Content-type":"application/x-www-form-urlencoded"}});case 7:return i=n.sent,n.next=10,i.json();case 10:r=n.sent,console.log("data",r),s=r.data.url,e.url=s,a({type:J,payload:e}),t(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),a((o=n.t0.message,{type:G,payload:o}));case 21:case"end":return n.stop()}var o}),n,null,[[1,18]])})));return function(e){return n.apply(this,arguments)}}()}({text0:i.text0,text1:i.text1,template_id:e},f)),o({text0:"",text1:""}))};return"loading"===t?Object(u.jsx)(re,{}):Object(u.jsxs)("div",{className:W.a.container,children:[Object(u.jsx)("h2",{className:W.a.title,children:"Bienvenido a MemeStore"}),Object(u.jsx)(O.a,{type:"flex",justify:"center",children:Object(u.jsx)(p.a,{span:8,children:Object(u.jsx)(ne,{handleChangeForm:r,valueText0:null===i||void 0===i?void 0:i.text0,valueText1:null===i||void 0===i?void 0:i.text1})})}),Object(u.jsx)(O.a,{type:"flex",justify:"space-around",align:"center",className:W.a.list_container,children:null===e||void 0===e?void 0:e.slice(0,m).map((function(e){return Object(u.jsx)(te,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.url,title:null===e||void 0===e?void 0:e.name,onClickCreate:function(){return _(e.id)}},null===e||void 0===e?void 0:e.id)}))}),Object(u.jsx)(O.a,{type:"flex",justify:"center",children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{onClick:function(){return b(m+10)},type:"primary",children:"Mostrar m\xe1s"})})})]})},oe=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Eliminar meme"})})},le=n(235),je=n(97),de=n.n(je),ue=n(109),me=n.n(ue),be=X.a.Meta,Oe=function(e){var t=e.src,n=e.title;return Object(u.jsx)(p.a,{sm:24,md:8,xl:6,className:me.a.card_wrapper,children:Object(u.jsx)(X.a,{hoverable:!0,style:{width:300},cover:Object(u.jsx)("img",{alt:"example",src:t}),className:me.a.image,children:Object(u.jsx)(be,{title:n})})})},pe=function(){var e=Object(s.c)(k),t=Object(s.c)((function(e){return e.memes})).isLoading,n=Object(s.b)(),c=Object(a.useState)(10),i=Object(x.a)(c,2),r=i[0],o=i[1];return Object(a.useEffect)((function(){"iddle"===t&&n(Z())}),[t,n]),"loading"===t?Object(u.jsx)(re,{}):Object(u.jsxs)("div",{className:de.a.container,children:[Object(u.jsx)("h2",{className:de.a.title,children:"Bienvenido a MemeStore"}),Object(u.jsx)(O.a,{type:"flex",justify:"center",children:Object(u.jsx)(p.a,{span:12,children:Object(u.jsx)(le.a,{message:"Para crear tus memes personalizados debes loguearte",type:"warning",showIcon:!0})})}),Object(u.jsx)(O.a,{type:"flex",justify:"space-around",align:"center",className:de.a.list_container,children:null===e||void 0===e?void 0:e.slice(0,r).map((function(e){return Object(u.jsx)(Oe,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.url,title:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}),Object(u.jsx)(O.a,{type:"flex",justify:"center",children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{onClick:function(){return o(r+10)},type:"primary",children:"Mostrar m\xe1s"})})})]})},xe=n(66),he=n.n(xe),fe=function(){var e=Object(s.c)(k).slice(100),t=Object(s.c)((function(e){return e.memes})).isLoading,n=Object(s.b)(),c=Object(a.useState)(10),i=Object(x.a)(c,2),r=i[0],o=i[1];return console.log("myListMemes",e),Object(a.useEffect)((function(){"iddle"===t&&n(Z())}),[t,n]),"loading"===t?Object(u.jsx)(re,{}):Object(u.jsxs)("div",{className:he.a.container,children:[Object(u.jsx)("h2",{className:he.a.title,children:"Mi lista de memes"}),0===e.length?Object(u.jsx)(O.a,{type:"flex",justify:"center",children:Object(u.jsx)(p.a,{span:12,children:Object(u.jsx)(le.a,{message:"Tu lista de memes est\xe1 vac\xeda",type:"warning",showIcon:!0})})}):Object(u.jsxs)("div",{children:[Object(u.jsx)(O.a,{type:"flex",justify:"space-around",align:"center",className:he.a.list_container,children:null===e||void 0===e?void 0:e.slice(0,r).map((function(e){return Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:null===e||void 0===e?void 0:e.url,className:he.a.link,children:Object(u.jsx)(Oe,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.url,title:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})}))}),e.length>10&&Object(u.jsx)(O.a,{type:"flex",justify:"center",children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{onClick:function(){return o(r+10)},type:"primary",children:"Mostrar m\xe1s"})})})]})]})},ve=n(236),_e=function(){var e=Object(s.c)((function(e){return e.login.success}));return Object(u.jsxs)(ve.a,{mode:"horizontal",children:[!e&&Object(u.jsx)(ve.a.Item,{children:Object(u.jsx)(o.b,{to:"/",children:"Login"})},"item1"),!e&&Object(u.jsx)(ve.a.Item,{children:Object(u.jsx)(o.b,{to:"/memes-list",children:"Lista de memes"})},"item2"),e&&Object(u.jsx)(ve.a.Item,{children:Object(u.jsx)(o.b,{to:"/meme/create",children:"Crear meme"})},"item3"),e&&Object(u.jsx)(ve.a.Item,{children:Object(u.jsx)(o.b,{to:"/my-list",children:"Mis memes"})},"item4")]})};var ge=function(){var e=Object(s.c)((function(e){return e.login.success}));return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(_e,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,children:Object(u.jsx)(I,{})}),Object(u.jsx)(l.b,{path:"/memes-list",exact:!0,children:Object(u.jsx)(pe,{})}),Object(u.jsx)(b,{path:"/my-list",isLogin:e,component:fe}),Object(u.jsx)(b,{path:"/meme/create",isLogin:e,component:se}),Object(u.jsx)(b,{path:"/meme/remove/:id",isLogin:e,component:oe})]})]})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},Ce=n(53),Ee=n(129),Me=n(130),we={data:{},error:null,success:null,loading:!1},Le=n(132),Se={isLoading:"iddle",data:[],errorMessage:null,message:null},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case z:case H:return Object(j.a)(Object(j.a)({},e),{},{isLoading:"loading"});case P:return Object(j.a)(Object(j.a)({},e),{},{isLoading:"succeeded",data:t.payload});case D:case q:return Object(j.a)(Object(j.a)({},e),{},{errorMessage:t.payload,isLoading:"failed",data:[]});case B:return Object(j.a)(Object(j.a)({},e),{},{isLoading:"succeeded",data:e.data.filter((function(e){return e.id!==parseInt(t.payload)}))});case J:return Object(j.a)(Object(j.a)({},e),{},{isLoading:"succeeded",data:[].concat(Object(Le.a)(e.data),[t.payload])});case G:return Object(j.a)(Object(j.a)({},e),{},{isLoading:"failed",data:[]});default:return e}},Fe=Object(Ce.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case L:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload,error:!1,success:!0,loading:!1});case S:return Object(j.a)(Object(j.a)({},e),{},{error:t.payload,success:!1,loading:!1});default:return e}},memes:Te}),Ne=Fe,Ie=Object(Ce.createStore)(Ne,Object(Ee.composeWithDevTools)(Object(Ce.applyMiddleware)(Me.a)));n(228);r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(s.a,{store:Ie,children:Object(u.jsx)(ge,{})})}),document.getElementById("root")),ye()},66:function(e,t,n){e.exports={container:"MyList_container__1xztW",link:"MyList_link__3e5fx",list_container:"MyList_list_container__b_t-d",text:"MyList_text__3vyvK",title:"MyList_title__Z-4zm"}},96:function(e,t,n){e.exports={container:"MemeCreate_container__16uIU",list_container:"MemeCreate_list_container__Nv1kT",title:"MemeCreate_title__3HOz0"}},97:function(e,t,n){e.exports={container:"MemesList_container__T7EUQ",list_container:"MemesList_list_container__1d7cr",text:"MemesList_text__16r9V",title:"MemesList_title__1uNNp"}}},[[229,1,2]]]);
//# sourceMappingURL=main.91294543.chunk.js.map