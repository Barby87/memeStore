(this["webpackJsonpmeme-store"]=this["webpackJsonpmeme-store"]||[]).push([[0],{106:function(e,t,n){e.exports={card_wrapper:"MemeCardCreate_card_wrapper__2DGmZ",image:"MemeCardCreate_image__3jXjB"}},107:function(e,t,n){e.exports={spinner_container:"LoadingSpinner_spinner_container__xCjOz"}},108:function(e,t,n){e.exports={card_wrapper:"MemeCardItem_card_wrapper__38JaG",image:"MemeCardItem_image__2mBK5"}},126:function(e,t,n){e.exports={title:"Login_title__3XZU6"}},142:function(e,t,n){},148:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(31),i=n.n(r),s=(n(142),n(27)),o=n(46),l=n(21),d=(n(148),n(13)),j=n(134),u=n(6),m=["component","isLogin"],b=function(e){var t=e.component,n=e.isLogin,a=Object(j.a)(e,m);return n?Object(u.jsx)(l.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return Object(u.jsx)(t,Object(d.a)({},e))}})):Object(u.jsx)(l.a,{to:"/"})},p=n(57),O=n(38),x=n(41),h=n(231),f=n(233),v=n(130),_=n(236),g=n(237),y=function(e){var t=e.onFinish,n=e.onFinishFailed,a=e.handleChangeForm,r=e.valueEmail,i=e.valuePassword,s=e.initialValues,o=h.a.useForm(),l=Object(x.a)(o,1)[0];return c.a.useEffect((function(){l.setFieldsValue({username:r,password:i})}),[l,r,i]),Object(u.jsx)("div",{children:Object(u.jsxs)(h.a,Object(d.a)(Object(d.a)({},{labelCol:{span:12},wrapperCol:{span:16}}),{},{onFinish:t,onFinishFailed:n,form:l,onFieldsChange:function(e){return a(e[0])},initialValues:s,children:[Object(u.jsx)(h.a.Item,{name:"username",label:"Nombre de usuario",rules:[{required:!0,message:"Porfavor, ingresa tu e-mail"}],children:Object(u.jsx)(f.a,{type:"text",prefix:Object(u.jsx)(_.a,{className:"site-form-item-icon"})})}),Object(u.jsx)(h.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0}],children:Object(u.jsx)(f.a.Password,{prefix:Object(u.jsx)(g.a,{className:"site-form-item-icon"})})}),Object(u.jsx)(h.a.Item,{wrapperCol:{offset:8,span:16},children:Object(u.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}))})},C=n(71),E=function(e){var t=Object(a.useState)(e),n=Object(x.a)(t,2),c=n[0],r=n[1];return{formValues:c,setFormValues:r,handleChange:function(e){r(Object(d.a)(Object(d.a)({},c),{},Object(C.a)({},e.name,e.value)))}}},M="LOGIN_USER",w="".concat(M,"_INIT"),L="".concat(M,"_SUCCESS"),S="".concat(M,"_ERROR"),T=function(e,t){var n=e.username,a=e.password;return function(e){e({type:w});var c=function(t){e({type:S,payload:t})};try{fetch("https://api-mock-login.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:a})}).then((function(e){return e.json()})).then((function(a){a.jwt?(localStorage.jwt=a.jwt,e({type:L,payload:n}),t()):c(a.error)}))}catch(r){c(r)}}},F=n(126),N=n.n(F),I=function(){var e=Object(s.b)(),t=Object(l.g)(),n=E({username:"",password:""}),a=n.formValues,c=n.handleChange,r=function(){return t.push("/meme/create")};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:N.a.title,children:"Login"}),Object(u.jsx)(p.a,{type:"flex",justify:"center",align:"middle",children:Object(u.jsx)(O.a,{span:8,children:Object(u.jsx)(y,{onFinish:function(){e(T(a,r))},handleChangeForm:c,valueEmail:null===a||void 0===a?void 0:a.username,valuePassword:null===a||void 0===a?void 0:a.password})})})]})},k=function(e){var t=e.memes;return null===t||void 0===t?void 0:t.data},R=n(65),U=n.n(R),A=n(105),V="FETCH_MEMES_START",P="FETCH_MEMES_SUCCES",B="FETCH_MEMES_FAILURE",D="DELETE_MEME_START",z="DELETE_MEME_SUCCESS",H="DELETE_MEME_FAILURE",J="CREATE_MEME_START",G="CREATE_MEME_SUCCESS",X="CREATE_MEME_FAILURE",q=function(e){return{type:G,payload:e}},Z=function(){return function(){var e=Object(A.a)(U.a.mark((function e(t,n){var a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:V}),e.prev=1,e.next=4,fetch("https://api.imgflip.com/get_memes");case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,t((r=c.data.memes,{type:P,payload:r})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t((n=e.t0.message,{type:B,payload:n}));case 14:case"end":return e.stop()}var n,r}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},$=n(95),K=n.n($),Q=n(232),W=n(238),Y=n(239),ee=n(106),te=n.n(ee),ne=Q.a.Meta,ae=function(e){var t=e.alt,n=e.description,a=e.src,c=e.title,r=e.onClickCreate,i=e.onClickDelete;return Object(u.jsx)(O.a,{sm:24,md:8,xl:6,className:te.a.card_wrapper,children:Object(u.jsx)(Q.a,{style:{width:300},cover:Object(u.jsx)("img",{alt:t,src:a,className:te.a.image}),actions:[Object(u.jsx)(W.a,{onClick:r},"create"),Object(u.jsx)(Y.a,{onClick:i},"delete")],children:Object(u.jsx)(ne,{title:c,description:n})})})},ce=function(e){var t=e.handleChangeForm,n=e.initialValues,c=e.valueText0,r=e.valueText1,i=h.a.useForm(),s=Object(x.a)(i,1)[0];return Object(a.useEffect)((function(){s.setFieldsValue({text0:c,text1:r})}),[s,c,r]),Object(u.jsxs)(h.a,{form:s,onFieldsChange:function(e){return t(e[0])},initialValues:n,children:[Object(u.jsx)(h.a.Item,{name:"text0",label:"Texto 1",children:Object(u.jsx)(f.a,{})}),Object(u.jsx)(h.a.Item,{name:"text1",label:"Texto 2",children:Object(u.jsx)(f.a,{})})]})},re=n(230),ie=n(107),se=n.n(ie),oe=function(){return Object(u.jsx)("div",{className:se.a.spinner_container,children:Object(u.jsx)(re.a,{className:se.a.spinner,tip:"Loading..."})})},le=function(){var e=Object(s.c)(k),t=Object(s.c)((function(e){return e.memes})).isLoading,n=Object(s.b)(),c=E({text0:"",text1:""}),r=c.formValues,i=c.handleChange,o=Object(a.useState)(10),l=Object(x.a)(o,2),d=l[0],j=l[1];Object(a.useEffect)((function(){"iddle"===t&&n(Z())}),[t,n]);var m=function(e){var t,a;n((t={text0:r.text0,text1:r.text1,template_id:e},function(){var e=Object(A.a)(U.a.mark((function e(n){var c,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:J}),e.prev=1,t.password="E$XNPeA!u8Cd$cw",t.username="BrbaraCceres",c=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"),e.next=7,fetch("https://api.imgflip.com/caption_image",{method:"POST",body:c,headers:{"Content-type":"application/x-www-form-urlencoded"}});case 7:return r=e.sent,e.next=10,r.json();case 10:i=e.sent,console.log("data",i),n(q(a)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n((s=e.t0.message,{type:X,payload:s}));case 18:case"end":return e.stop()}var s}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()))};return"loading"===t?Object(u.jsx)(oe,{}):Object(u.jsxs)("div",{className:K.a.container,children:[Object(u.jsx)("h2",{className:K.a.title,children:"Bienvenido a MemeStore"}),Object(u.jsx)(p.a,{type:"flex",justify:"center",children:Object(u.jsx)(O.a,{span:8,children:Object(u.jsx)(ce,{handleChangeForm:i,valueText0:null===r||void 0===r?void 0:r.text0,valueText1:null===r||void 0===r?void 0:r.text1})})}),Object(u.jsx)(p.a,{type:"flex",justify:"space-around",align:"center",className:K.a.list_container,children:null===e||void 0===e?void 0:e.slice(0,d).map((function(e){return Object(u.jsx)(ae,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.url,title:null===e||void 0===e?void 0:e.name,onClickCreate:function(){return m(e.id)}},null===e||void 0===e?void 0:e.id)}))}),Object(u.jsx)(p.a,{type:"flex",justify:"center",children:Object(u.jsx)(O.a,{children:Object(u.jsx)(v.a,{onClick:function(){return j(d+10)},type:"primary",children:"Mostrar m\xe1s"})})})]})},de=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Eliminar meme"})})},je=n(234),ue=n(96),me=n.n(ue),be=n(108),pe=n.n(be),Oe=Q.a.Meta,xe=function(e){var t=e.src,n=e.title;return Object(u.jsx)(O.a,{sm:24,md:8,xl:6,className:pe.a.card_wrapper,children:Object(u.jsx)(Q.a,{hoverable:!0,style:{width:300},cover:Object(u.jsx)("img",{alt:"example",src:t}),className:pe.a.image,children:Object(u.jsx)(Oe,{title:n})})})},he=function(){var e=Object(s.c)(k),t=Object(s.c)((function(e){return e.memes})).isLoading,n=Object(s.b)(),c=Object(a.useState)(10),r=Object(x.a)(c,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){"iddle"===t&&n(Z())}),[t,n]),"loading"===t?Object(u.jsx)(oe,{}):Object(u.jsxs)("div",{className:me.a.container,children:[Object(u.jsx)("h2",{className:me.a.title,children:"Bienvenido a MemeStore"}),Object(u.jsx)(p.a,{type:"flex",justify:"center",children:Object(u.jsx)(O.a,{span:12,children:Object(u.jsx)(je.a,{message:"Para crear tus memes personalizados debes loguearte",type:"warning",showIcon:!0})})}),Object(u.jsx)(p.a,{type:"flex",justify:"space-around",align:"center",className:me.a.list_container,children:null===e||void 0===e?void 0:e.slice(0,i).map((function(e){return Object(u.jsx)(xe,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.url,title:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}),Object(u.jsx)(p.a,{type:"flex",justify:"center",children:Object(u.jsx)(O.a,{children:Object(u.jsx)(v.a,{onClick:function(){return o(i+10)},type:"primary",children:"Mostrar m\xe1s"})})})]})},fe=n(235),ve=function(){var e=Object(s.c)((function(e){return e.login.success}));return Object(u.jsxs)(fe.a,{mode:"horizontal",children:[!e&&Object(u.jsx)(fe.a.Item,{children:Object(u.jsx)(o.b,{to:"/",children:"Login"})},"item2"),!e&&Object(u.jsx)(fe.a.Item,{children:Object(u.jsx)(o.b,{to:"/memes-list",children:"Lista de memes"})},"itemitem2"),e&&Object(u.jsx)(fe.a.Item,{children:Object(u.jsx)(o.b,{to:"/meme/create",children:"Crear meme"})},"item3")]})};var _e=function(){var e=Object(s.c)((function(e){return e.login.success}));return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(ve,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,children:Object(u.jsx)(I,{})}),Object(u.jsx)(l.b,{path:"/memes-list",exact:!0,children:Object(u.jsx)(he,{})}),Object(u.jsx)(b,{path:"/meme/create",isLogin:e,component:le}),Object(u.jsx)(b,{path:"/meme/remove/:id",isLogin:e,component:de})]})]})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},ye=n(53),Ce=n(128),Ee=n(129),Me={data:{},error:null,success:null,loading:!1},we=n(131),Le={isLoading:"iddle",data:[],errorMessage:null,message:null},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:case D:case J:return Object(d.a)(Object(d.a)({},e),{},{isLoading:"loading"});case P:return Object(d.a)(Object(d.a)({},e),{},{isLoading:"succeeded",data:t.payload});case B:case H:return Object(d.a)(Object(d.a)({},e),{},{errorMessage:t.payload,isLoading:"failed",data:[]});case z:return Object(d.a)(Object(d.a)({},e),{},{isLoading:"succeeded",data:e.data.filter((function(e){return e.id!==parseInt(t.payload)}))});case G:return Object(d.a)(Object(d.a)({},e),{},{isLoading:"succeeded",data:[].concat(Object(we.a)(e.data),[t.payload])});case X:return Object(d.a)(Object(d.a)({},e),{},{isLoading:"failed",data:[]});default:return e}},Te=Object(ye.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case L:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload,error:!1,success:!0,loading:!1});case S:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload,success:!1,loading:!1});default:return e}},memes:Se}),Fe=Te,Ne=Object(ye.createStore)(Fe,Object(Ce.composeWithDevTools)(Object(ye.applyMiddleware)(Ee.a)));n(227);i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(s.a,{store:Ne,children:Object(u.jsx)(_e,{})})}),document.getElementById("root")),ge()},95:function(e,t,n){e.exports={container:"MemeCreate_container__16uIU",list_container:"MemeCreate_list_container__Nv1kT",title:"MemeCreate_title__3HOz0"}},96:function(e,t,n){e.exports={container:"MemesList_container__T7EUQ",list_container:"MemesList_list_container__1d7cr",text:"MemesList_text__16r9V",title:"MemesList_title__1uNNp"}}},[[228,1,2]]]);
//# sourceMappingURL=main.f96f23bb.chunk.js.map